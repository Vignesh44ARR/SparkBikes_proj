<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./sparkbikecss.css" />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <title>Login</title>
  </head>
  <body>
    <header class="header">
      <nav class="navbar">
        <a href="#" class="nav-logo">
          <img
            style="margin-top: 2px"
            width="50"
            height="30"
            src="https://cdn.pixabay.com/photo/2014/04/03/09/59/motorcycle-309527_960_720.png"
            alt=""
          />
          <span id="logoname" style="margin-top: -5px"> Spark Bikes</span></a
        >
        <ul class="nav-menu">
          
          <li class="nav-item">
            <a class="nav-link" href="/"> Login </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./SparkBike_Sign.html"> Sign-up </a>
          </li>
        </ul>
        <div class="hamburger">
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
        </div>
      </nav>
    </header>
    <div class="container">
      <h1 class="head-size theme-head-color">Customer Login...</h1>
      <hr class="line theme-head-color" />
      <div class="Forms-split">
        <div id="log-forms">
          <br /><br />
          <h2 class="sub-head ash-color">Registered Customers</h2>
          <p class="ash-color">
            If you have an account, sign in with your email address.
          </p>
          <form onclick="return login()" id="log_form_contains" action="">
            <br />
            <label class="ash-color" for=""
              >Email ID <span class="red">*</span>
            </label>
            <br />
            <input
              id="email"
              class="inputs"
              type="text"
              placeholder="Enter your Email Id"
            />
            <br /><br />
            <label class="ash-color" for=""
              >Password <span class="red">*</span>
            </label>
            <br />
            <input
              id="pwd"
              class="inputs"
              type="password"
              placeholder="Enter your Password"
            />
            <br />
            <br />
            <button class="button white back-theme">Login</button>
            <a style="margin-left: 10px" class="theme-head-color" href=""
              ></a
            >
            <br /><br />
            <a class="theme-head-color" href="./SparkBike_Sign.html"
              >Create Account</a
            >
            <p
              style="color: red; font-weight: bold; font-size: 19px"
              id="Sign-error"
            ></p>
          </form>

          <br /><br />
        </div>
        <div id="logimgs">
          <img
            id="log-imgs"
            src="https://team365.io/assets/login/2.png"
            alt="login image"
          />
        </div>
      </div>
    </div>

    <br /><br />

    <footer class="back-theme white">
      <div id="mpad" class="footer">
        <div>
          <h3>SparkBikers.com</h3>
          <li>About Us</li>
          <li>Terms and Conditions</li>
          <li>Privacy Policy</li>
          <li>Refunds and Cancellations</li>
        </div>
        <div>
          <h3>Resources</h3>
          <li>My Account</li>
          <li>Buy Used Bike</li>
          <li>Sell My Bike</li>
          <li>FAQs</li>
          <li>Sitemap</li>
        </div>
        <div>
          <h3>Contact Us</h3>
          <li>Email: support@sparkbikers.com</li>
          <li>Call: +91-8792837282</li>
          <li>WhatsApp: +91-9335354667</li>
          <li>Bike Hub Location</li>
          <li>Office Address</li>
        </div>
        <div>
          <h3>Social Media Links</h3>
          <span>&nbsp;</span>
          <img
            width="25"
            height="25"
            src="https://png.pngtree.com/element_our/md/20180626/md_5b321c98efaa6.jpg"
            alt=""
          />
          <img
            width="25"
            height="25"
            src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR2TXJKM4LRYGe4vRJaFvwkQSrCo9UnsUvKPA&usqp=CAU"
            alt=""
          />
          <img
            width="25"
            height="25"
            src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRLtapKth8dLZTb0z-2um6eidPw5hzDZdKWQqRc4NUHGExpORro0MBkfNku7f-2hRMFokM&usqp=CAU"
            alt=""
          />
          <img
            width="25"
            height="25"
            src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQNVDI2NdKqaP79L-fMLvvTK76IgfR04hMf8A&usqp=CAU"
            alt=""
          />
          <img
            width="25"
            height="25"
            src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-JEGqgMHF_laM4hYrXc2NB03w2OcT24zjWw&usqp=CAU"
            alt=""
          />
        </div>
      </div>
      <hr
        style="margin-left: 7%; margin-right: 7%; border: 1px solid oldlace"
      />
      <br />
      <p style="text-align: center">
        Â© Spark Bikers 2020. All Rights Reserved. All trademarks are property of
        Spark Bikers Pvt. Ltd.
      </p>
      <br />
    </footer>

    <script>
      // nav bar

      const hamburger = document.querySelector(".hamburger");
      const navMenu = document.querySelector(".nav-menu");

      hamburger.addEventListener("click", mobileMenu);

      function mobileMenu() {
        hamburger.classList.toggle("active");
        navMenu.classList.toggle("active");
      }

      const navLink = document.querySelectorAll(".nav-link");

      navLink.forEach((n) => n.addEventListener("click", closeMenu));

      function closeMenu() {
        hamburger.classList.remove("active");
        navMenu.classList.remove("active");
      }

      const checkEmail = (serverUsers, email, pwd) => {
        const user = serverUsers.find((user) => user.email === email); // extract the email from the formData
        const pas = serverUsers.find((user) => user.password === pwd); // extract the email from the formData

        if (user && pas) {
          let signerror = document.querySelector("#Sign-error");
          window.location.href = "./BikeServiepage.html";
        } else {
          let signerror = document.querySelector("#Sign-error");
          signerror.innerHTML = "Try Again";
        }
      };
      const onSubmit = async (email, pwd) => {
        const user = await axios
          .get("https://6190ddab41928b001768fea0.mockapi.io/bikeruser")
          .then((res) => checkEmail(res.data, email, pwd));
      };

      function login() {
        let email = document.querySelector("#email").value;
        let password = document.querySelector("#pwd").value;
        if (email == "admin@gmail.com" && password == "admin") {
          window.location.href = "./Admin_user_details.html";
        } else {
          onSubmit(email, password);
        }

        return false;
      }
    </script>
  </body>
</html>
